
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Darkof</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Darkof">
<meta property="og:url" content="https://www.darkof.com/page/4/index.html">
<meta property="og:site_name" content="Darkof">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Darkof">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;www.twitter.com&#x2F;wenxiaobin">
  
    <link rel="alternative" href="/atom.xml" title="Darkof" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37387757-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->

</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Darkof</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Adam Wen&#39;s Blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="www.darkof.com">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post--e4-b9-9f-e8-b0-88-e9-9d-92-e5-a4-a7-e8-b4-b1-e7-ac-91-e4-ba-8c-e5-8d-81-e5-91-a8-e5-b9-b4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/05/16/-e4-b9-9f-e8-b0-88-e9-9d-92-e5-a4-a7-e8-b4-b1-e7-ac-91-e4-ba-8c-e5-8d-81-e5-91-a8-e5-b9-b4/" class="article-date">
  <time datetime="2013-05-16T00:55:53.000Z" itemprop="datePublished">2013-05-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/闲言/">闲言</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/05/16/-e4-b9-9f-e8-b0-88-e9-9d-92-e5-a4-a7-e8-b4-b1-e7-ac-91-e4-ba-8c-e5-8d-81-e5-91-a8-e5-b9-b4/">也谈青大贱笑二十周年</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>18号据说会有十分精彩的演出，本来想去走热闹，后来想想确实和我无关，手里还有许多重要的事情要做，估计是不能去看贱笑二十周年演出了。为了迎接贱笑二十周年，学校把所有的教学楼和宿舍楼的外墙全部刷了一遍，至于我们汇园的内部条件，教学楼里面的设施，什么也没变。</p>
<p>据说会换校徽和校训。根据目前的泄密版本，新的校训是在现在的校训的基础上删掉了四个字，“求真 笃志”被删。个人感觉及其不妥。删除就是不要，这样一删的前潜台词就是我们不需要求真，也不需要笃志。个人感觉学校就算弄个 “为人民服务” 作为校训，也比在原来的基础上删掉强。“为人民服务”别人顶多会嘲笑不够文雅，但是你在“明德求真，博学笃志，守正出奇”这十二个字删，给人遐想空间太大。更何况现在学校的<a href="http://www.qdu.edu.cn/content/xuexiaogaikuang/20071107/11.html" target="_blank" rel="noopener">官网上还介绍这十二个字的校训是相互依赖，相互联系。</a></p>
<p>不过这样删校训还是有一定好处的，比如去掉了“求真”二字之后，我们就可以名正言顺的将1909放上去了。我一开始以为1909是国立青岛大学的建校时间，但是去wikipedia查了一下，国立青岛大学在那之前已经建校。查了查1909年在青岛有一所德华大学，可惜后来没有了，也和我们没有什么关系，1909到底出自哪还要靠官方考证。但是看看校园里在昨天新树上的雕塑：闻一多 沈从文 梁实秋，都是国立青岛大学的老师，不知道把他们树在我们的校园里做什么。我只想说，正视历史才能赢得尊重.</p>
<p>之前看到夏娘发状态说青大的失败之处就是让学生没有归属感。在学校三年，经历了学校和学院里太多的事情，就会发现赚钱真的是第一要务，然后学校希望你能不惹事端的过完四年，以期迎来下一批盈利对象。从我入校那一年开始，学校在宿舍楼不够的情况下，将一栋楼改成了实验楼，继续扩招。然后我们就住进了实验了，你可以看到6人宿舍，8人宿舍，10人宿舍，12人宿舍，14人宿舍，还有16人宿舍。大二来到中心校区，你会发现汇源的条件是如此不堪，但是就是在如此不堪的条件下，每次校领导视察，我们都会被导员要求将宿舍的能不用的东西塞入厨柜，然后不能呆在宿舍。我们的奖学金低到一等奖学金只有300，比例也不比其他学校高。食堂的饭菜的价格却是接近一流大学的两倍，所以我们是超一流的？</p>
<p>大一的时候加入了学生会，呆了一年发现自己太笨，不适合呆在里面就退了。其实退的主要原因是因为实在是看不惯一些人，而我又不是那种 以天下为己任 的人，更何况我也没有能力去改正那些不足，我就独善其身的退了，现在看来这虽然还不能说是大学生涯最明智的决定。但也绝对是之一，退了之后有了时间去学专业知识，然后在生活中也认识了不少朋友，惊闻现在学院里学生会成员比例高的惊人，所以要谨慎发言，估计会被喷。。</p>
<p>学校怎么样现在与我无关，可能在很久很久之后，除了问起毕业学校，可能我不会主动提起我有这么一个母校，这么一个学院。</p>
<p>&nbsp;</p>
<p>关于django中charfield与textfield</p>
<p>昨天和家文讨论过要用那种，然后决定测一下性能</p>
<p>测之前我去瞅了一眼源码 CharField和TextField都会继承Field，但是CharField会在存入数据库之前会做长度的验证。</p>
<p>这个倒是很好的提问了<a href="http://stackoverflow.com/questions/7354588/django-charfield-vs-textfield" target="_blank" rel="noopener">何时使用CharField和TextField</a></p>
<p>&nbsp;</p>
<p>关于x</p>
<p>昨天本卿跟我说老王发现了一个可能拿到数据的地方，但是需要我来拿，让我测试下能不能拿到。就去分析了下， 发现还是能拿到数据的，但是不确定会不会频繁请求而被封禁。不过也看到某大公司的搞笑前端注释</p>
<p>&nbsp;</p>
<p>关于最近</p>
<p>空</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/05/16/-e4-b9-9f-e8-b0-88-e9-9d-92-e5-a4-a7-e8-b4-b1-e7-ac-91-e4-ba-8c-e5-8d-81-e5-91-a8-e5-b9-b4/" data-id="cjvb3r8zh0003u8s60p1p97zi" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/05/16/-e4-b9-9f-e8-b0-88-e9-9d-92-e5-a4-a7-e8-b4-b1-e7-ac-91-e4-ba-8c-e5-8d-81-e5-91-a8-e5-b9-b4/#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-4-29" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/04/29/4-29/" class="article-date">
  <time datetime="2013-04-29T13:24:38.000Z" itemprop="datePublished">2013-04-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/闲言/">闲言</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/04/29/4-29/">4.29 </a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>关于YCM，在编译的时候需要配置上对python的支持</p>
<p><pre class="lang:sh decode:true">./configure –with-python-config-dir=/your/python/config/ –enable-pythoninterp</pre><br>&nbsp;</p>
<p>昨天晚上被和二挂 东升 二央 二牛五个人一起去看得《致青春》。我果然是脸盲。韩庚一出场我就没有认出来 ，然后韩庚的各个侧脸都没有认出来。每一次韩庚登场，我都会问身边的人这人是谁。至于赵又廷对我来说始终是房祖名，各种房祖名。这本小说在很久之前看过，不过等到看电影的时候基本上全部忘却了。昨天下午还在家，翻了翻我那一堆书柜，没想到我当年也文艺过。至于电影，最好的就是结局，算是与电影名字的对应。有些东西留在回忆里反而是最好的。</p>
<p>最近在弄个小东西来模拟微信的一些东西，不过微信部门也算是够狡猾的。那个接口一天就让调用一次。第一天，调用一次，抓包分析。第二天模拟发送，没过， 再正常调用，抓包分析。不断反复。。。。每天只能调一次，想多注册几个帐号还需要等待审核。。。。</p>
<p>晚上在听豆瓣电台，感觉音质越来越差了，突然就很想听周董的歌，感觉以前的歌听起来还是很有感觉的。</p>
<p>最近在看龙应台的《大江大海1949》, 有些东西真是庆幸没有遇到。不过即使是从书上了解，还是觉得很悲怆，还没看完，刚刚看到围长春城，有空继续看。前一阵看了《灭世》，没有电程序员瞬间成为最卑贱的职业，或者说，不再有这个职业。</p>
<p>&nbsp;</p>
<p>Django的Q就我现在理解，是个不错的东西。最近up的数据不长更新，有时候达不到每天1W步的运动，需要加强锻炼。湖人就这么被扫了，前天在家用电视看了一场。青岛两轮不胜了，对申花被压哨，对辽宁最后扳平。</p>
<p>&nbsp;</p>
<p>最近把头发剪了，听短的，感觉很凉快。</p>
<p>总结：</p>
<p>就像深水里的鸟，潜向太阳。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/04/29/4-29/" data-id="cjvb3r91f003mu8s6j6ai8ohk" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/04/29/4-29/#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-422-e6-89-af-e6-b7-a1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/04/22/422-e6-89-af-e6-b7-a1/" class="article-date">
  <time datetime="2013-04-22T08:04:10.000Z" itemprop="datePublished">2013-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/04/22/422-e6-89-af-e6-b7-a1/">4.22扯淡</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近遇到不少狗血事，不过估计慢慢会好起来的。</p>
<p>昨天青岛中能在91分钟的时候被绝杀，让人遗憾。有时候就是这样，一切都很顺利，场面也占优，然后突然就没有然后了，当然，我说的不是足球。</p>
<p>还有两周就要什么软件大赛，然后再过一个多月ACM，要开始准备刷题了。算法一直是我的弱项（现在想想没有什么是我的强项）。其实还是很偷懒，没有比赛就懒得刷题，整天自己瞎折腾。</p>
<p>不过最近的时间真的挺紧的，软件大赛，ACM准备，网络中心那面有几个学院网站的屁股怎么都擦不干净，b3, ifanr，背单词。哎？我想把自己当超人用，但其实最近注意力挺难集中的。</p>
<p>昨天晚上把up的震动闹钟调到6点， 这样就能在被太阳晒醒前醒过来。开学快两个月，刚开学几个人把那个写完就没被用过的在线考试系统写完了，然后就没有了。挑战杯很光荣的落选了，当然是我们考虑不周。当时组队的时候就应该招一个专门写文档和报告的，结果到最后代码搞定，界面完成之后都不太愿意写那个报告，敷衍敷衍然后就落选了。如果当时找个乐于写文档的人，那么就会大有不同。在得知落选之后其实也算大致了解了挑战杯，当然，我这也属于吃不到葡萄说葡萄酸的行为，其实最终原因一定是我们代码写的不够好，创新性不足，界面不够好看，成果不够优秀导致的。只可惜了我们的代码。</p>
<p>其实还是不甘，不过也就这样了。生活总是在继续，毕竟以后我们又不靠写报告过活，报告写不过就人了（不过诚实的说，确实是我们对报告不够认真）。</p>
<p>学院的青天大老爷和青天小老爷们有时候真是让人不解，不过我很喜欢即将进行的装机大赛，真想参加一把。。。。</p>
<p>刚刚看了下，总算把vim代码pull下来了，YouComplemeMe是个利器，不过对vim版本有要求，而且编译的时候还需要编译上python support才行。不过vundle应该是个更好的东西，以后有空可以装点顺手的插件，迁移也更简单了。</p>
<p>扯淡结束，做事去</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/04/22/422-e6-89-af-e6-b7-a1/" data-id="cjvb3r91h003qu8s6ipixkgbk" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/04/22/422-e6-89-af-e6-b7-a1/#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post--e7-90-86-e8-a7-a3python-e7-9a-84-e8-a3-85-e9-a5-b0-e5-99-a8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/04/20/-e7-90-86-e8-a7-a3python-e7-9a-84-e8-a3-85-e9-a5-b0-e5-99-a8/" class="article-date">
  <time datetime="2013-04-20T13:11:47.000Z" itemprop="datePublished">2013-04-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/04/20/-e7-90-86-e8-a7-a3python-e7-9a-84-e8-a3-85-e9-a5-b0-e5-99-a8/">理解Python的装饰器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>原文出自stackoverflow，英文好的同学可以直接戳<a href="http://stackoverflow.com/questions/739654/how-can-i-make-a-chain-of-function-decorators-in-python#answer-739665" target="_blank" rel="noopener">这里</a>,如果是人人看的那么可能排版不太好，可以戳<a href="http://www.darkof.com/?p=187" title="理解Python的装饰器">这里</a></p>
<h2 id="Python的函数也是对象"><a href="#Python的函数也是对象" class="headerlink" title="Python的函数也是对象"></a>Python的函数也是对象</h2><p>为了理解装饰器，你必须首先要理解python里的函数也是对象。这是一个很重要的概念，我们可以来看个小例子：</p>
<pre class="lang:python decode:true">def shout(word="yes"):
    return word.capitalize()+"!"

print shout()
# 输出 : 'Yes!'

# 作为一个对象，你可以像其他对象一样，将他赋给一个变量
scream = shout

# 注意我们没有使用shout() 因为我们不是在调用shout这个函数，
# 我们把shout这个函数传递给给scream
# 这意味着我们可以调用scream来代替调用shoot
print scream()
# 输出 : 'Yes!'

# 不仅如此，你删掉shout， 仍然可以调用scream
del shout
try:
    print shout()
except NameError, e:
    print e
    #outputs: "name 'shout' is not defined"

print scream()
# 输出: 'Yes!'</pre>
我们先把上面的概念记下，过会我们会再回来。

&nbsp;

&nbsp;

## Python里函数的另外一个特性：函数可以定义在另外一个函数内（函数中定义函数）

<pre class="lang:python decode:true">def talk():
    # 你可以在函数“talk”中定义一个函数
    def whisper(word="yes"):
        return word.lower()+"..."

    # 然后在“talk”函数里直接使用“whisper”
    print whisper()

# 你调用了内部定义了“whisper”的talk函数，
# 每一次调用talk，talk中的whisper也会被调用
talk()
# 输出: 
#    "yes..."

# 但是在talk函数之外并不存在whisper:
try:
    print whisper()
except NameError, e:
    print e
    # 输出 : "name 'whisper' is not defined"</pre>

<p>## </p>
<p>## </p>
<h2 id="函数引用"><a href="#函数引用" class="headerlink" title="函数引用"></a><span style="color: #000000; font-weight: bold;">函数引用</span></h2><p>从上面的例子可以看出函数是对象，因此：</p>
<ul>
<li>可以传递给变量</li>
<li><p>可以在另一个函数中定义<br>这意味着一个函数可以返回另外一个函数（返回值是一个函数），我们看一下例子：<br><pre class="lang:python decode:true">def getTalk(type=”shout”):</pre></p>
<h1 id="我们接着定义函数"><a href="#我们接着定义函数" class="headerlink" title="我们接着定义函数"></a>我们接着定义函数</h1><p>def shout(word=”yes”):</p>
<pre><code>return word.capitalize()+&quot;!&quot;
</code></pre><p>def whisper(word=”yes”) :</p>
<pre><code>return word.lower()+&quot;...&quot;;
</code></pre><h1 id="然后返回定义的两个函数中的一个"><a href="#然后返回定义的两个函数中的一个" class="headerlink" title="然后返回定义的两个函数中的一个"></a>然后返回定义的两个函数中的一个</h1><p>if type == “shout”:</p>
<pre><code># 我们不使用（），因为在这里我们不是在调用它
# 返回一个函数对象
return shout  
</code></pre><p>else:</p>
<pre><code>return whisper
</code></pre></li>
</ul>
<h1 id="你怎么使用这个东西？"><a href="#你怎么使用这个东西？" class="headerlink" title="你怎么使用这个东西？"></a>你怎么使用这个东西？</h1><h1 id="得到一个函数对象然后传递给一个变量"><a href="#得到一个函数对象然后传递给一个变量" class="headerlink" title="得到一个函数对象然后传递给一个变量"></a>得到一个函数对象然后传递给一个变量</h1><p>talk = getTalk()      </p>
<h1 id="你可以看到这里的talk是一个函数对象"><a href="#你可以看到这里的talk是一个函数对象" class="headerlink" title="你可以看到这里的talk是一个函数对象"></a>你可以看到这里的talk是一个函数对象</h1><p>print talk</p>
<h1 id="输出-lt-function-shout-at-0xb7ea817c-gt"><a href="#输出-lt-function-shout-at-0xb7ea817c-gt" class="headerlink" title="输出 : &lt;function shout at 0xb7ea817c&gt;"></a>输出 : &lt;function shout at 0xb7ea817c&gt;</h1><h1 id="这个对象是函数返回的一个对象"><a href="#这个对象是函数返回的一个对象" class="headerlink" title="这个对象是函数返回的一个对象"></a>这个对象是函数返回的一个对象</h1><p>print talk()</p>
<h1 id="输出-Yes"><a href="#输出-Yes" class="headerlink" title="输出 : Yes!"></a>输出 : Yes!</h1><h1 id="你也可以直接用一种很难看的方式直接调用"><a href="#你也可以直接用一种很难看的方式直接调用" class="headerlink" title="你也可以直接用一种很难看的方式直接调用"></a>你也可以直接用一种很难看的方式直接调用</h1><p>print getTalk(“whisper”)()</p>
<h1 id="输出-yes…"><a href="#输出-yes…" class="headerlink" title="输出 : yes…"></a>输出 : yes…</h1><p>既然你可以返回一个函数，那么你也可以传递一个函数对象作为参数</p>
<pre class="lang:python decode:true">def doSomethingBefore(func): 
    print "I do something before then I call the function you gave me"
    print func()

doSomethingBefore(scream)
# 输出: 
# I do something before then I call the function you gave me
# Yes!</pre>
你应该已经能够理解装饰器了。装饰器就是一种包装，能够让你在不改变函数本身的情况下，在其之前或之后执行代码

&nbsp;

&nbsp;

## 手工实现装饰器

你会如何实现一个装饰器呢？
<pre class="lang:python decode:true"># 一个装饰器是一个能够接收另外一个函数作为参数的函数
def my_shiny_new_decorator(a_function_to_decorate):

    # 装饰器在内部定义了一个函数：the_wrapper_around_the_original_function
    # 这是一个对原始函数（a_function_to_decorate）进行包装的函数
    # 所以它可以在原始函数（a_function_to_decorate）之前或者之后执行一些代码
    def the_wrapper_around_the_original_function():

        # 在这里实现一些你希望在原函数执行前执行的代码
        print "Before the function runs"

        # 在这里调用原函数
        a_function_to_decorate()

        # 在这里实现一些需要在原函数执行后执行的代码
        print "After the function runs"

    # 在这时，a_function_todecorate还没有被执行（这是定义过程）
    # 我们返回我们刚刚创建的装饰器函数：the_wrapper_around_the_original_function
    # 这个装饰器包括了原函数以及我们在其之前和之后需要执行的代码
    return the_wrapper_around_the_original_function

# 现在来考虑创建一个你不会再直接调用的函数
def a_stand_alone_function():
    print "I am a stand alone function, don't you dare modify me"

a_stand_alone_function() 
# 输出: I am a stand alone function, don't you dare modify me

# 现在通过装饰它来扩展它的行为
# 只需要将它传给装饰器，它就会动态的被装饰
# 然后你会得到一个新的可以使用的函数

a_stand_alone_function_decorated = my_shiny_new_decorator(a_stand_alone_function)
a_stand_alone_function_decorated()
# 输出:
#    Before the function runs
#    I am a stand alone function, don't you dare modify me
#    After the function runs</pre>
现在，你每次想调用a_stand_alone_function，都通过调用a_stand_alone_function_decorated来代替。

这个很好解决， 通过my_shiny_new_decorator返回的函数来重写a_stand_alone_function_decorated
<pre class="lang:python decode:true">a_stand_alone_function = my_shiny_new_decorator(a_stand_alone_function)
a_stand_alone_function()
#输出:
# Before the function runs
# I am a stand alone function, don't you dare modify me
# After the function runs# And guess what? That's EXACTLY what decorators do!</pre>
&nbsp;

## 揭开装饰器的面纱（好吧，我承认这个副标题略二）

之前的例子，我们通过使用装饰器语法来实现：
<pre class="lang:default decode:true">@my_shiny_new_decorator
def another_stand_alone_function():
    print "Leave me alone"

another_stand_alone_function()  
#输出:  
#Before the function runs
#Leave me alone
#After the function runs</pre>
就这没简单，

@decorator等同于：
<pre class="lang:python decode:true">another_stand_alone_function = my_shiny_new_decorator(another_stand_alone_function)</pre>
&nbsp;

装饰器是 设计模式中装饰者模式的python实现。这些经典的设计模式都 被内嵌在python中来简化开发，就像iterators（迭代器）一样。

当然，你可以同时使用多个装饰器（手动装饰器实现）：
<pre class="lang:python decode:true">def bread(func):
    def wrapper():
        print "&lt;/''''''&gt;"
        func()
        print "&lt;______/&gt;"
    return wrapper

def ingredients(func):
    def wrapper():
        print "#tomatoes#"
        func()
        print "~salad~"
    return wrapper

def sandwich(food="--ham--"):
    print food

sandwich()
#输出: --ham--

sandwich = bread(ingredients(sandwich))
sandwich()
#输出:
#&lt;/''''''&gt;
# #tomatoes#
# --ham--
# ~salad~
#&lt;______/&gt;</pre>
使用python语法糖实现：
<pre class="lang:python decode:true">@bread
@ingredients
def sandwich(food="--ham--"):
    print food

sandwich()
#输出:
#&lt;/''''''&gt;
# #tomatoes#
# --ham--
# ~salad~
#&lt;______/&gt;
The order you set the decorators MATTERS:

@ingredients
@bread
def strange_sandwich(food="--ham--"):
    print food

strange_sandwich()
#输出:
##tomatoes#
#&lt;/''''''&gt;
# --ham--
#&lt;______/&gt;
# ~salad~</pre>
&nbsp;

接下来我们来看一些关于装饰器的高级用法

向被装饰的函数传递参数
<pre class="lang:python decode:true"># 这不是什么黑魔法，你只需像装饰器传递参数

def a_decorator_passing_arguments(function_to_decorate):
    def a_wrapper_accepting_arguments(arg1, arg2):
        print "I got args! Look:", arg1, arg2
        function_to_decorate(arg1, arg2)
    return a_wrapper_accepting_arguments

# 当你调用由装饰器返回的函数，
# 也就是你在调用a_wrapper_accepting_arguments这个函数，
# 把参数传递给wrapper然后再让它把参数传递给被装饰的原函数

@a_decorator_passing_arguments
def print_full_name(first_name, last_name):
    print "My name is", first_name, last_name

print_full_name("Peter", "Venkman")
# 输出:
#I got args! Look: Peter Venkman
#My name is Peter Venkman</pre>

<p>## </p>
<p>## </p>
<h2 id="装饰对象的方法"><a href="#装饰对象的方法" class="headerlink" title="装饰对象的方法"></a>装饰对象的方法</h2><p>在Python中对象和方法是很相似的，不同之处在于方法需要将当前对象的因作为第一个参数传递进去。这意味考虑到self之后，你用相同的办法可以为方法创建装饰器，</p>
<p><pre class="lang:python decode:true">def method_friendly_decorator(method_to_decorate):<br>    def wrapper(self, lie):<br>        lie = lie - 3 # very friendly, decrease age even more :-)<br>        return method_to_decorate(self, lie)<br>    return wrapper</pre></p>
<p>class Lucy(object):</p>
<pre><code>def __init__(self):
    self.age = 32

@method_friendly_decorator
def sayYourAge(self, lie):
    print &quot;I am %s, what did you think?&quot; % (self.age + lie)
</code></pre><p>l = Lucy()<br>l.sayYourAge(-3)</p>
<p>#输出: I am 26, what did you think?<br>当然，如果你想创建一个通用与函数（function）与方法（method）的装饰器，不需要考虑参数如何，只要用<em>args和*</em>kwargs就行</p>
<p><pre class="lang:python decode:true">def a_decorator_passing_arbitrary_arguments(function_to_decorate):</pre></p>
<pre><code># 装饰器接收所有任何参数
def a_wrapper_accepting_arbitrary_arguments(*args, **kwargs):
    print &quot;Do I have args?:&quot;
    print args
    print kwargs
    # 然后解压缩参数，在这是*args和**kwargs
    # 如果你对压缩和解压缩参数不熟悉，
    # 看这：http://www.saltycrane.com/blog/2008/01/how-to-use-args-and-kwargs-in-python/
    function_to_decorate(*args, **kwargs)
return a_wrapper_accepting_arbitrary_arguments
</code></pre><p>@a_decorator_passing_arbitrary_arguments</p>
<p>def function_with_no_argument():<br>    print “Python is cool, no argument here.”</p>
<p>function_with_no_argument()</p>
<p>#输出：</p>
<p>#Do I have args?:</p>
<p>#()</p>
<p>#{}</p>
<p>#Python is cool, no argument here.</p>
<p>@a_decorator_passing_arbitrary_arguments</p>
<p>def function_with_arguments(a, b, c):<br>    print a, b, c</p>
<p>function_with_arguments(1,2,3)</p>
<p>#输出：</p>
<p>#Do I have args?:</p>
<p>#(1, 2, 3)</p>
<p>#{}</p>
<p>#1 2 3 </p>
<p>@a_decorator_passing_arbitrary_arguments</p>
<p>def function_with_named_arguments(a, b, c, platypus=”Why not ?”):<br>    print “Do %s, %s and %s like platypus? %s” %<br>    (a, b, c, platypus)</p>
<p>function_with_named_arguments(“Bill”, “Linus”, “Steve”, platypus=”Indeed!”)</p>
<p>#输出：</p>
<p>#Do I have args ? :</p>
<p>#(‘Bill’, ‘Linus’, ‘Steve’)</p>
<p>#{‘platypus’: ‘Indeed!’}</p>
<p>#Do Bill, Linus and Steve like platypus? Indeed!</p>
<p>class Mary(object):</p>
<pre><code>def __init__(self):
    self.age = 31

@a_decorator_passing_arbitrary_arguments
def sayYourAge(self, lie=-3): # You can now add a default value
    print &quot;I am %s, what did you think ?&quot; % (self.age + lie)
</code></pre><p>m = Mary()<br>m.sayYourAge()</p>
<p>#输出：</p>
<h1 id="Do-I-have-args"><a href="#Do-I-have-args" class="headerlink" title="Do I have args?:"></a>Do I have args?:</h1><p>#(&lt;<strong>main</strong>.Mary object at 0xb7d303ac&gt;,)</p>
<p>#{}</p>
<p>#I am 28, what did you think?<br>&nbsp;</p>
<h2 id="向装饰器传递参数"><a href="#向装饰器传递参数" class="headerlink" title="向装饰器传递参数"></a>向装饰器传递参数</h2><p>现在你可能想知道如何向装饰器本身传递参数。你可能不解为什么要这么做，因为之前的装饰器必须接受一个函数作为参数，但不能把被装饰的函数直接传递给装饰器</p>
<p><pre class="lang:python decode:true"># 装饰器是个普通的函数</pre></p>
<p>def my_decorator(func):<br>    print “I am a ordinary function”<br>    def wrapper():<br>        print “I am function returned by the decorator”<br>        func()<br>    return wrapper</p>
<h1 id="所以你可以直接调用而不不使用"><a href="#所以你可以直接调用而不不使用" class="headerlink" title="所以你可以直接调用而不不使用@"></a>所以你可以直接调用而不不使用@</h1><p>def lazy_function():<br>    print “zzzzzzzz”</p>
<p>decorated_function = my_decorator(lazy_function)</p>
<h1 id="输出-I-am-a-ordinary-function"><a href="#输出-I-am-a-ordinary-function" class="headerlink" title="输出: I am a ordinary function"></a>输出: I am a ordinary function</h1><h1 id="它输出-“I-am-a-ordinary-function”-因为你调用了它"><a href="#它输出-“I-am-a-ordinary-function”-因为你调用了它" class="headerlink" title="它输出 “I am a ordinary function”, 因为你调用了它"></a>它输出 “I am a ordinary function”, 因为你调用了它</h1><p>@my_decorator</p>
<p>def lazy_function():<br>    print “zzzzzzzz”</p>
<h1 id="输出-I-am-a-ordinary-function-1"><a href="#输出-I-am-a-ordinary-function-1" class="headerlink" title="输出: I am a ordinary function"></a>输出: I am a ordinary function</h1><p>my_decorator的调用和使用@my_decorator是十分相似的。你让通过被变量标志的my_decorator来让python调用它。这很重要，因为这个标志可以让你直接指出装饰器</p>
<p><pre class="lang:python decode:true">def decorator_maker():</pre></p>
<pre><code>print &quot;I make decorators! I am executed only once: &quot;+
      &quot;when you make me create a decorator.&quot;

def my_decorator(func):

    print &quot;I am a decorator! I am executed only when you decorate a function.&quot;

    def wrapped():
        print (&quot;I am the wrapper around the decorated function. &quot;
              &quot;I am called when you call the decorated function. &quot;
              &quot;As the wrapper, I return the RESULT of the decorated function.&quot;)
        return func()

    print &quot;As the decorator, I return the wrapped function.&quot;

    return wrapped

print &quot;As a decorator maker, I return a decorator&quot;
return my_decorator
</code></pre><h1 id="我们来创建一个装饰器"><a href="#我们来创建一个装饰器" class="headerlink" title="我们来创建一个装饰器."></a>我们来创建一个装饰器.</h1><p>new_decorator = decorator_maker()       </p>
<h1 id="输出"><a href="#输出" class="headerlink" title="输出:"></a>输出:</h1><h1 id="I-make-decorators-I-am-executed-only-once-when-you-make-me-create-a-decorator"><a href="#I-make-decorators-I-am-executed-only-once-when-you-make-me-create-a-decorator" class="headerlink" title="I make decorators! I am executed only once: when you make me create a decorator"></a>I make decorators! I am executed only once: when you make me create a decorator</h1><h1 id="As-a-decorator-maker-I-return-a-decorator"><a href="#As-a-decorator-maker-I-return-a-decorator" class="headerlink" title="As a decorator maker, I return a decorator"></a>As a decorator maker, I return a decorator</h1><h1 id="然后我们来装饰一个函数"><a href="#然后我们来装饰一个函数" class="headerlink" title="然后我们来装饰一个函数"></a>然后我们来装饰一个函数</h1><p>def decorated_function():<br>    print “I am the decorated function.”</p>
<p>decorated_function = new_decorator(decorated_function)</p>
<h1 id="outputs"><a href="#outputs" class="headerlink" title="outputs:"></a>outputs:</h1><h1 id="I-am-a-decorator-I-am-executed-only-when-you-decorate-a-function"><a href="#I-am-a-decorator-I-am-executed-only-when-you-decorate-a-function" class="headerlink" title="I am a decorator! I am executed only when you decorate a function."></a>I am a decorator! I am executed only when you decorate a function.</h1><h1 id="As-the-decorator-I-return-the-wrapped-function"><a href="#As-the-decorator-I-return-the-wrapped-function" class="headerlink" title="As the decorator, I return the wrapped function"></a>As the decorator, I return the wrapped function</h1><h1 id="我们调用一下这个被装饰过的方法"><a href="#我们调用一下这个被装饰过的方法" class="headerlink" title="我们调用一下这个被装饰过的方法:"></a>我们调用一下这个被装饰过的方法:</h1><p>decorated_function()</p>
<p>#输出:</p>
<h1 id="I-am-the-wrapper-around-the-decorated-function-I-am-called-when-you-call-the"><a href="#I-am-the-wrapper-around-the-decorated-function-I-am-called-when-you-call-the" class="headerlink" title="I am the wrapper around the decorated function. I am called when you call the"></a>I am the wrapper around the decorated function. I am called when you call the</h1><h1 id="decorated-function"><a href="#decorated-function" class="headerlink" title="decorated function."></a>decorated function.</h1><h1 id="As-the-wrapper-I-return-the-RESULT-of-the-decorated-function"><a href="#As-the-wrapper-I-return-the-RESULT-of-the-decorated-function" class="headerlink" title="As the wrapper, I return the RESULT of the decorated function."></a>As the wrapper, I return the RESULT of the decorated function.</h1><h1 id="I-am-the-decorated-function"><a href="#I-am-the-decorated-function" class="headerlink" title="I am the decorated function."></a>I am the decorated function.</h1><p>再让我们跳过中间变量来实现同样的事情</p>
<p><pre class="lang:python decode:true">def decorated_function():<br>    print “I am the decorated function.”<br>decorated_function = decorator_maker()(decorated_function)</pre></p>
<h1 id="输出-1"><a href="#输出-1" class="headerlink" title="输出:"></a>输出:</h1><h1 id="I-make-decorators-I-am-executed-only-once-when-you-make-me-create-a-decorator-1"><a href="#I-make-decorators-I-am-executed-only-once-when-you-make-me-create-a-decorator-1" class="headerlink" title="I make decorators! I am executed only once: when you make me create a decorator"></a>I make decorators! I am executed only once: when you make me create a decorator</h1><h1 id="As-a-decorator-maker-I-return-a-decorator-1"><a href="#As-a-decorator-maker-I-return-a-decorator-1" class="headerlink" title="As a decorator maker, I return a decorator"></a>As a decorator maker, I return a decorator</h1><h1 id="I-am-a-decorator-I-am-executed-only-when-you-decorate-a-function-1"><a href="#I-am-a-decorator-I-am-executed-only-when-you-decorate-a-function-1" class="headerlink" title="I am a decorator! I am executed only when you decorate a function."></a>I am a decorator! I am executed only when you decorate a function.</h1><h1 id="As-the-decorator-I-return-the-wrapped-function-1"><a href="#As-the-decorator-I-return-the-wrapped-function-1" class="headerlink" title="As the decorator, I return the wrapped function."></a>As the decorator, I return the wrapped function.</h1><h1 id="最后"><a href="#最后" class="headerlink" title="最后:"></a>最后:</h1><p>decorated_function()    </p>
<h1 id="输出-2"><a href="#输出-2" class="headerlink" title="输出:"></a>输出:</h1><h1 id="I-am-the-wrapper-around-the-decorated-function-I-am-called-when-you-call-the-1"><a href="#I-am-the-wrapper-around-the-decorated-function-I-am-called-when-you-call-the-1" class="headerlink" title="I am the wrapper around the decorated function. I am called when you call the"></a>I am the wrapper around the decorated function. I am called when you call the</h1><h1 id="decorated-function-1"><a href="#decorated-function-1" class="headerlink" title="decorated function."></a>decorated function.</h1><h1 id="As-the-wrapper-I-return-the-RESULT-of-the-decorated-function-1"><a href="#As-the-wrapper-I-return-the-RESULT-of-the-decorated-function-1" class="headerlink" title="As the wrapper, I return the RESULT of the decorated function."></a>As the wrapper, I return the RESULT of the decorated function.</h1><h1 id="I-am-the-decorated-function-1"><a href="#I-am-the-decorated-function-1" class="headerlink" title="I am the decorated function."></a>I am the decorated function.</h1><p>让我们通过更简洁方式来实现</p>
<p><pre class="lang:python decode:true">@decorator_maker()</pre></p>
<p>def decorated_function():<br>    print “I am the decorated function.”</p>
<p>#输出:</p>
<p>#I make decorators! I am executed only once: when you make me create a decorator.</p>
<p>#As a decorator maker, I return a decorator</p>
<p>#I am a decorator! I am executed only when you decorate a function.</p>
<p>#As the decorator, I return the wrapped function.</p>
<p>#然后就到最后了，调用:<br>decorated_function()    </p>
<p>#outputs:</p>
<p>#I am the wrapper around the decorated function. I am called when you call the decorated function.</p>
<p>#As the wrapper, I return the RESULT of the decorated function.</p>
<p>#I am the decorated function.<br>你觉得怎么样，我们通过@来进行函数调用</p>
<p>回到向装饰器传递参数这个问题上。如果我们使用函数来产生装饰器，我们也可以向这个函数传参</p>
<p><pre class="lang:python decode:true">def decorator_maker_with_arguments(decorator_arg1, decorator_arg2):</pre></p>
<pre><code>print &quot;I make decorators! And I accept arguments:&quot;, decorator_arg1, decorator_arg2

def my_decorator(func):
    # 向这传递参数是一种闭包特性
    # 如果你不喜欢这种闭包特性，你可以把它传给一个变量
    # 或者看看这：http://stackoverflow.com/questions/13857/can-you-explain-closures-as-they-relate-to-python
    print &quot;I am the decorator. Somehow you passed me arguments:&quot;, decorator_arg1, decorator_arg2

    # 不要弄混 装饰器的参数 和 被装饰的方法的参数
    def wrapped(function_arg1, function_arg2) :
        print (&quot;I am the wrapper around the decorated function.n&quot;
              &quot;I can access all the variablesn&quot;
              &quot;t- from the decorator: {0} {1}n&quot;
              &quot;t- from the function call: {2} {3}n&quot;
              &quot;Then I can pass them to the decorated function&quot;
              .format(decorator_arg1, decorator_arg2,
                      function_arg1, function_arg2))
        return func(function_arg1, function_arg2)

    return wrapped

return my_decorator
</code></pre><p>@decorator_maker_with_arguments(“Leonard”, “Sheldon”)</p>
<p>def decorated_function_with_arguments(function_arg1, function_arg2):<br>    print (“I am the decorated function and only knows about my arguments: {0}”<br>           “ {1}”.format(function_arg1, function_arg2))</p>
<p>decorated_function_with_arguments(“Rajesh”, “Howard”)</p>
<p>#输出:</p>
<p>#I make decorators! And I accept arguments: Leonard Sheldon</p>
<p>#I am the decorator. Somehow you passed me arguments: Leonard Sheldon</p>
<p>#I am the wrapper around the decorated function. </p>
<p>#I can access all the variables </p>
<h1 id="from-the-decorator-Leonard-Sheldon"><a href="#from-the-decorator-Leonard-Sheldon" class="headerlink" title="- from the decorator: Leonard Sheldon"></a>- from the decorator: Leonard Sheldon</h1><h1 id="from-the-function-call-Rajesh-Howard"><a href="#from-the-function-call-Rajesh-Howard" class="headerlink" title="- from the function call: Rajesh Howard"></a>- from the function call: Rajesh Howard</h1><p>#Then I can pass them to the decorated function</p>
<p>#I am the decorated function and only knows about my arguments: Rajesh Howard<br>像这样，一个需要参数的装饰器，参数可以以变量的形式传递进去：</p>
<p><pre class="lang:python decode:true">c1 = “Penny”<br>c2 = “Leslie”</pre></p>
<p>@decorator_maker_with_arguments(“Leonard”, c1)</p>
<p>def decorated_function_with_arguments(function_arg1, function_arg2):<br>    print (“I am the decorated function and only knows about my arguments:”<br>           “ {0} {1}”.format(function_arg1, function_arg2))</p>
<p>decorated_function_with_arguments(c2, “Howard”)</p>
<p>#输出:</p>
<p>#I make decorators! And I accept arguments: Leonard Penny</p>
<p>#I am the decorator. Somehow you passed me arguments: Leonard Penny</p>
<p>#I am the wrapper around the decorated function. </p>
<p>#I can access all the variables </p>
<h1 id="from-the-decorator-Leonard-Penny"><a href="#from-the-decorator-Leonard-Penny" class="headerlink" title="- from the decorator: Leonard Penny"></a>- from the decorator: Leonard Penny</h1><h1 id="from-the-function-call-Leslie-Howard"><a href="#from-the-function-call-Leslie-Howard" class="headerlink" title="- from the function call: Leslie Howard"></a>- from the function call: Leslie Howard</h1><p>#Then I can pass them to the decorated function</p>
<p>#I am the decorated function and only knows about my arguments: Leslie Howard<br>&nbsp;</p>
<p>&nbsp;</p>
<h2 id="做个练习：一个用来装饰装饰器的装饰器"><a href="#做个练习：一个用来装饰装饰器的装饰器" class="headerlink" title="做个练习：一个用来装饰装饰器的装饰器"></a>做个练习：一个用来装饰装饰器的装饰器</h2><p><pre class="lang:python decode:true">def decorator_with_args(decorator_to_enhance):</pre></p>
<pre><code># 我们像之前那样传递参数
def decorator_maker(*args, **kwargs):

    # 创建一个只接受函数作为参数的函数 
    # 但是能够使用maker传递的参数
    def decorator_wrapper(func):

        # 我们将返回原始的装饰器，就像返回一个普通的函数一样 
        # IS JUST AN ORDINARY FUNCTION (which returns a function).
        # 需要注意的是装饰器必须有自己的标识符，否则无法工作
        return decorator_to_enhance(func, *args, **kwargs)

    return decorator_wrapper

return decorator_maker&lt;/pre&gt;
</code></pre><p>然后可以这么使用：</p>
<p><pre class="lang:python decode:true"># 你创造了了一个将作为装饰器使用的函数，然后向里面插入了一个装饰器</pre></p>
<h1 id="别忘了，插入的装饰器的标识符是-“decorator-func-args-kwargs-”"><a href="#别忘了，插入的装饰器的标识符是-“decorator-func-args-kwargs-”" class="headerlink" title="别忘了，插入的装饰器的标识符是 “decorator(func, args, *kwargs)”"></a>别忘了，插入的装饰器的标识符是 “decorator(func, <em>args, *</em>kwargs)”</h1><p>@decorator_with_args </p>
<p>def decorated_decorator(func, <em>args, *</em>kwargs):<br>    def wrapper(function_arg1, function_arg2):<br>        print “Decorated with”, args, kwargs<br>        return func(function_arg1, function_arg2)<br>    return wrapper</p>
<h1 id="然后你可以通过被装饰的装饰器来装饰你的函数"><a href="#然后你可以通过被装饰的装饰器来装饰你的函数" class="headerlink" title="然后你可以通过被装饰的装饰器来装饰你的函数"></a>然后你可以通过被装饰的装饰器来装饰你的函数</h1><p>@decorated_decorator(42, 404, 1024)</p>
<p>def decorated_function(function_arg1, function_arg2):<br>    print “Hello”, function_arg1, function_arg2</p>
<p>decorated_function(“Universe and”, “everything”)</p>
<p>#输出:</p>
<p>#Decorated with (42, 404, 1024) {}</p>
<p>#Hello Universe and everything</p>
<h1 id="酷不"><a href="#酷不" class="headerlink" title="酷不?"></a>酷不?</h1><p>我知道，你上次有这种感觉，应该是听到别人说：“要理解递归，你要先理解递归”的时候。但是掌握了刚才讲的这些之后是不是很爽。</p>
<p>## </p>
<h2 id="装饰器范例"><a href="#装饰器范例" class="headerlink" title="装饰器范例"></a>装饰器范例</h2><ul>
<li>装饰器是Python2.4出现的新特性，确保你的代码跑在2.4或者更高版本上</li>
<li>记住装饰器会延缓函数调用</li>
<li>不能取消装饰。有一些方法能创建可以取消的装饰器，但木有人用。一个函数被装饰了，就是被装饰了。</li>
<li><del>装饰器装饰函数后，会增加debug难度</del><br>Python2.5通过提供functool模块来解决了上述的最后一个问题。functool.wraps会拷贝被装饰函数的名字 模块 文档等到他的包装器中，而<code>functools.wraps</code>本身也是一个装饰器<br><pre class="lang:python decode:true"># 直接用装饰器会显得很杂乱<br>def bar(func):<br>def wrapper():<pre><code>print &quot;bar&quot;
return func()
</code></pre>return wrapper</pre></li>
</ul>
<p>@bar</p>
<p>def foo():<br>    print “foo”</p>
<p>print foo.<strong>name</strong></p>
<p>#outputs: wrapper</p>
<h1 id="“functools”-有助于解决这个问题"><a href="#“functools”-有助于解决这个问题" class="headerlink" title="“functools” 有助于解决这个问题"></a>“functools” 有助于解决这个问题</h1><p>import functools</p>
<p>def bar(func):</p>
<pre><code># 我们说的包装器（wrapper）是用来包装func的
# 下面是见证奇迹的时刻
@functools.wraps(func)
def wrapper():
    print &quot;bar&quot;
    return func()
return wrapper
</code></pre><p>@bar</p>
<p>def foo():<br>    print “foo”</p>
<p>print foo.<strong>name</strong></p>
<p>#输出: foo<br>&nbsp;</p>
<h2 id="如何有效的使用装饰器"><a href="#如何有效的使用装饰器" class="headerlink" title="如何有效的使用装饰器"></a>如何有效的使用装饰器</h2><p>也许你会有个疑问：我可以用装饰器做什么，它看起来很好很强大，但是如果有个实际例子会更好。</p>
<p>关于在什么情况下使用有很多种可能，传统的用法是当你需要扩展一个外部库函数的行为或者处于debug的需要（但你不想对其直接做做更改，因为这只是临时的），你可以使用一个装饰器来扩展许多函数，不要重写每个函数（DRY原则），举个例子：</p>
<p><pre class="lang:python decode:true">def benchmark(func):<br>    “””<br>    A decorator that prints the time a function takes<br>    to execute.<br>    “””<br>    import time<br>    def wrapper(<em>args, **kwargs):<br>        t = time.clock()<br>        res = func(</em>args, **kwargs)<br>        print func.<strong>name</strong>, time.clock()-t<br>        return res<br>    return wrapper</pre></p>
<p>def logging(func):<br>    “””<br>    A decorator that logs the activity of the script.<br>    (it actually just prints it, but it could be logging!)<br>    “””<br>    def wrapper(<em>args, **kwargs):<br>        res = func(</em>args, **kwargs)<br>        print func.<strong>name</strong>, args, kwargs<br>        return res<br>    return wrapper</p>
<p>def counter(func):<br>    “””<br>    A decorator that counts and prints the number of times a function has been executed<br>    “””<br>    def wrapper(<em>args, **kwargs):<br>        wrapper.count = wrapper.count + 1<br>        res = func(</em>args, **kwargs)<br>        print “{0} has been used: {1}x”.format(func.<strong>name</strong>, wrapper.count)<br>        return res<br>    wrapper.count = 0<br>    return wrapper</p>
<p>@counter<br>@benchmark<br>@logging</p>
<p>def reverse_string(string):<br>    return str(reversed(string))</p>
<p>print reverse_string(“Able was I ere I saw Elba”)<br>print reverse_string(“A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!”)</p>
<p>#输出:</p>
<p>#reverse_string (‘Able was I ere I saw Elba’,) {}</p>
<p>#wrapper 0.0</p>
<p>#wrapper has been used: 1x </p>
<p>#ablE was I ere I saw elbA</p>
<p>#reverse_string (‘A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!’,) {}</p>
<p>#wrapper 0.0</p>
<p>#wrapper has been used: 2x</p>
<p>#!amanaP :lanac a ,noep a ,stah eros ,raj a ,hsac ,oloR a ,tur a ,mapS ,snip ,eperc a ,)lemac a ro( niaga gab ananab a ,gat a ,nat a ,gab ananab a ,gag a ,inoracam ,elacrep ,epins ,spam ,arutaroloc a ,shajar ,soreh ,atsap ,eonac a ,nalp a ,nam A<br>&nbsp;</p>
<p>而使用装饰器的好处是是不需要做多余的重写就能立刻使用：</p>
<p><pre class="lang:python decode:true">@counter<br>@benchmark<br>@logging</pre></p>
<p>def get_random_futurama_quote():<br>    import httplib<br>    conn = httplib.HTTPConnection(“slashdot.org:80”)<br>    conn.request(“HEAD”, “/index.html”)<br>    for key, value in conn.getresponse().getheaders():<br>        if key.startswith(“x-b”) or key.startswith(“x-f”):<br>            return value<br>    return “No, I’m … doesn’t!”</p>
<p>print get_random_futurama_quote()<br>print get_random_futurama_quote()</p>
<p>#输出:</p>
<p>#get_random_futurama_quote () {}</p>
<p>#wrapper 0.02</p>
<p>#wrapper has been used: 1x</p>
<p>#The laws of science be a harsh mistress.</p>
<p>#get_random_futurama_quote () {}</p>
<p>#wrapper 0.01</p>
<p>#wrapper has been used: 2x</p>
<p>#Curse you, merciful Poseidon!<br>&nbsp;</p>
<p>&nbsp;</p>
<p>Python本身提供了许多装饰器：property, staticmethod等等。Django使用装饰器来捕获和查看权限等，装饰器用途广泛</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>原文出自：<a href="http://stackoverflow.com/questions/739ddd654/how-can-i-make-a-chain-of-function-decorators-in-python/1594484#1594484" target="_blank" rel="noopener">http://stackoverflow.com/questions/739ddd654/how-can-i-make-a-chain-of-function-decorators-in-python/1594484#1594484</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/04/20/-e7-90-86-e8-a7-a3python-e7-9a-84-e8-a3-85-e9-a5-b0-e5-99-a8/" data-id="cjvb3r90e001yu8s6wlxe3m2g" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/04/20/-e7-90-86-e8-a7-a3python-e7-9a-84-e8-a3-85-e9-a5-b0-e5-99-a8/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Decorator/">Decorator</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/装饰器/">装饰器</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post--e5-85-b3-e4-ba-8edjango-model-e4-b8-ad-e7-9a-84meta" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/04/20/-e5-85-b3-e4-ba-8edjango-model-e4-b8-ad-e7-9a-84meta/" class="article-date">
  <time datetime="2013-04-20T08:30:31.000Z" itemprop="datePublished">2013-04-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/04/20/-e5-85-b3-e4-ba-8edjango-model-e4-b8-ad-e7-9a-84meta/">关于django model中的meta</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://docs.djangoproject.com/en/1.5/topics/db/models/#meta-options" title="Model Meta options" target="_blank" rel="noopener">官方的介绍</a>在这里,给的说明是“anything that’s not a field”。</p>
<p>在meta中可以是任何数据， 但不是存入数据库的字段。</p>
<p>你可以设定一些诸如排序方法(ordering)，数据库table的名字（db_table）,7具有良好可读性的单数名称（verbose_name）和复数名称(verbose_name_plural)，这些东西都不是必需的，可以在meta中设置。</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/04/20/-e5-85-b3-e4-ba-8edjango-model-e4-b8-ad-e7-9a-84meta/" data-id="cjvb3r8zm000bu8s60iu0loe9" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/04/20/-e5-85-b3-e4-ba-8edjango-model-e4-b8-ad-e7-9a-84meta/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/">django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django-meta/">django meta</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post--e8-87-aa-e5-8a-a8-e5-8f-91-e5-be-ae-e5-8d-9a-e7-ae-80-e9-99-8b-e5-9b-be-e6-96-87-e6-95-99-e7-a8-8b" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/30/-e8-87-aa-e5-8a-a8-e5-8f-91-e5-be-ae-e5-8d-9a-e7-ae-80-e9-99-8b-e5-9b-be-e6-96-87-e6-95-99-e7-a8-8b/" class="article-date">
  <time datetime="2013-03-30T15:58:47.000Z" itemprop="datePublished">2013-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/joke/">joke</a>►<a class="article-category-link" href="/categories/joke/闲言/">闲言</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/30/-e8-87-aa-e5-8a-a8-e5-8f-91-e5-be-ae-e5-8d-9a-e7-ae-80-e9-99-8b-e5-9b-be-e6-96-87-e6-95-99-e7-a8-8b/">自动发微博简陋图文教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&nbsp;</p>
<p>用班级微博号登录qq微博,然后进入<a href="http://dev.t.qq.com/developer/" target="_blank" rel="noopener">腾讯微博开放平台</a></p>
<p>按照下图操作:</p>
<p>点击创建应用</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/png" alt="" title="点击应用开发，然后点创建应用"></a></p>
<p>出现下图后点确定</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/png1" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/png1" alt="" title="创建应用"></a></p>
<p>&nbsp;</p>
<p>出现下图后随便填写一下点击提交</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/2.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/2.png" alt="" title="创建应用2"></a></p>
<p>&nbsp;</p>
<p>出现下图后,记下App_Key和App_Secret 后面要用</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/3.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/3.png" alt="" title="创建应用3"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>进入sae.sina.com.cn注册一个开发者账户</p>
<p>注册完成后 按照下图进行</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/Sina-App-Engine.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/Sina-App-Engine.png" alt="" title="我的应用 - Sina App Engine"></a></p>
<p>点击红框选中的那个创建新应用</p>
<p>&nbsp;</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/2-Sina-App-Engine.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/2-Sina-App-Engine.png" alt="" title="我的应用2 - Sina App Engine"></a></p>
<p>填写信息的时候appid随便填写 但是要记下来 开发语言选择第二个 然后下一步</p>
<p>&nbsp;</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/Sina-App-Engine3.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/Sina-App-Engine3.png" alt="" title="我的应用 - Sina App Engine3"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>进入程序设置界面,如下 点击KVDB 然后点击  启用KV数据库</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/KV数据库-Sina-App-Engine4.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/KV数据库-Sina-App-Engine4.png" alt="" title="KV数据库 - Sina App Engine4"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>然后下载这个东西  <a href="http://192.241.208.248/wp-content/uploads/2013/03/qduweibo.zip" target="_blank" rel="noopener">qduweibo</a>  解压缩 进入用记事本1asssettings.py</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/Screenshot-from-2013-03-30-234623.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/Screenshot-from-2013-03-30-234623.png" alt="" title="Screenshot from 2013-03-30 23:46:23"></a></p>
<p>修改如上图  填写的时候需要保留单引号</p>
<p>例如REPLY_TO = ‘QDUXINXI123456’</p>
<p>因为青大信息工程学院团总支的帐号为QDUXINXI123456   不要忘记两边的引号 其余选项也是如此</p>
<p>&nbsp;</p>
<p>然后将qduweibo文件夹压缩成qduweibo.zip,然后在sae中如下图所示进行上传</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/Sina-App-Engine1.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/Sina-App-Engine1.png" alt="" title="代码管理 - Sina App Engine"></a></p>
<p>然后在里面选择修改好的qduweibo.zip上传</p>
<p>&nbsp;</p>
<p>然后从浏览器进入<a href="http://你的app_id.sinaapp.com" target="_blank" rel="noopener">http://你的app_id.sinaapp.com</a> 进行授权,输入班级qq号和密码</p>
<p>提交后显示  You Got it表示成功</p>
<p>然后每天9点会自动发一条新华网的正面新闻 并且@你想要@的人 而且确保每个部署这个服务的人的微博内容基本不一样</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/03/30/-e8-87-aa-e5-8a-a8-e5-8f-91-e5-be-ae-e5-8d-9a-e7-ae-80-e9-99-8b-e5-9b-be-e6-96-87-e6-95-99-e7-a8-8b/" data-id="cjvb3r90h0023u8s6qwc3xz25" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/03/30/-e8-87-aa-e5-8a-a8-e5-8f-91-e5-be-ae-e5-8d-9a-e7-ae-80-e9-99-8b-e5-9b-be-e6-96-87-e6-95-99-e7-a8-8b/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qdu/">qdu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sae/">sae</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/代码风格再烂也烂不过这个政策/">代码风格再烂也烂不过这个政策</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/腾讯微博/">腾讯微博</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post--e5-81-b6-e5-b0-94-e4-b8-80-e5-b0-8f-e7-bb-93" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/24/-e5-81-b6-e5-b0-94-e4-b8-80-e5-b0-8f-e7-bb-93/" class="article-date">
  <time datetime="2013-03-24T11:25:24.000Z" itemprop="datePublished">2013-03-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/闲言/">闲言</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/24/-e5-81-b6-e5-b0-94-e4-b8-80-e5-b0-8f-e7-bb-93/">偶尔一小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>也没什么需要小结的其实，今天下午一犯二导致一个小bug半天没看出来。现在青岛的天气很不错，如果没有风就更好了。</p>
<p>为了响应学校领导的伟大号召（伟大号召就是要求每个班的班长，每天用腾讯微博发一条微博，要求内容积极向上的时事，然后要@一下自己学院的团总支），有时不得不感叹学校越差毛病越多。当然，伟大号召还是要响应的，于是我写了个程序，每天替我自动发一条微博，然后@一下学院团总支。每天帮我发微博的功能好写，但是怎么让内容积极向上却很蛋疼。网易的新闻源必然不符合规范，找了好久，也就新华网的时政新闻是社会大好，万事和谐，积极向上，找的怎是一个蛋疼了得。写的这个东西刚才自己体验了一下，因为要注册腾讯开发者 和 新浪SAE，步骤很繁琐，这是之前没有考虑的到的，虽然搭建简单，但是步骤太繁琐了，有点开始考虑是否要放出这个东西，但是想了想之前在人人上答应了几个人，待会还是要写个教程的好。</p>
<p>关于学院我不想再提，真是可笑，具体的，当然与<a href="http://www.darkof.com/?p=98" title="我该如何写标题来形容操蛋的学院">这个</a>有关。</p>
<p>最近在网络中心做各个学院的网站迁移，对于各个学院的网站只能说是吐槽无力。</p>
<p>Google Reader要关了，今天打开Chrome发现Reader的Chrome app已经不见了，不禁唏嘘不已。Google突然关了Reader，然后就突然给我一种Google一点像微软的错觉。我一直喜欢这家公司，之前写的课程表自动同步也是把数据上传到Google Calendar。但是突然关掉Reader确实令我害怕。新上线的Google Keep也没有了以往面对新产品的热情，而且我有Evernote和Any.Do。前几天突然想到我是不应该用darkof.com的邮箱，来保证我能够一直持有这个地址而不被别人关闭。也许是我想多了。</p>
<p>先坏后好，生活中也不是尽是不如意的事情。先是期待的Trello for ipad和Up for Android都相继发布了，然后是感觉最近明显身体好多了，看了看up上的数据我大概也就每天睡6个小时，但是依然很精神，最近有些活动不足，需要多活动，但是开学的各种颈肩难受最近木有出现。不过运动依然要继续，等会去操场跑步去。</p>
<p>前天国足1：0，92分钟时绝杀伊拉克，因为有事下半场才开始看的，到最后的时候，毛跟我说他受不了卡马乔的战术，不看了，结果没过1分钟于大宝就把伊拉克给绝杀了。不过对卡马乔一点都无爱。</p>
<p>最近的目标是收敛，因为觉得最近有些行为越来越来，越来越跋扈，这样不好。</p>
<p>最近不打算折腾了，看完手头的几本书。The Vampire Diary不追了，太磨蹭，太拖沓。明天 行尸走肉 更新。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/03/24/-e5-81-b6-e5-b0-94-e4-b8-80-e5-b0-8f-e7-bb-93/" data-id="cjvb3r8zk0008u8s6k8deilj9" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/03/24/-e5-81-b6-e5-b0-94-e4-b8-80-e5-b0-8f-e7-bb-93/#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post--e5-85-b3-e4-ba-8epython-e5-92-8cduck-typing-e7-9a-84-e5-a4-9a-e6-80-81-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/14/-e5-85-b3-e4-ba-8epython-e5-92-8cduck-typing-e7-9a-84-e5-a4-9a-e6-80-81-2/" class="article-date">
  <time datetime="2013-03-14T11:59:20.000Z" itemprop="datePublished">2013-03-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/14/-e5-85-b3-e4-ba-8epython-e5-92-8cduck-typing-e7-9a-84-e5-a4-9a-e6-80-81-2/">关于Python和Duck_Typing的多态</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>准备完成《Head First》模式上讲的策略模式，就是小鸭子问题。</p>
<p>准备用Python来实现这个设计模式。</p>
<p>遇到问题如下：</p>
<p>1.Python没有类似于Java的动态绑定机制，所以谈不上基于父类引用的多态实现</p>
<p>2.Python如何实现多态</p>
<p>&nbsp;</p>
<p>通过查找一些资料，发现Python，其实不只是Python，动态语言都采用Duck_Typing（<a href="http://en.wikipedia.org/wiki/Duck_typing" title="Duck_typing" target="_blank" rel="noopener">wikipedia</a>）来实现</p>
<p>什么是Duck_Typing</p>
<blockquote>
<p>在鸭子类型中，关注的不是对象的类型本身，而是它是如何使用的。例如，在不使用鸭子类型的语言中，我们可以编写一个函数，它接受一个类型为<em>鸭</em>的对象，并调用它的<em>走</em>和<em>叫</em>方法。在使用鸭子类型的语言中，这样的一个函数可以接受一个任意类型的对象，并调用它的<em>走</em>和<em>叫</em>方法。如果这些需要被调用的方法不存在，那么将引发一个运行时错误。任何拥有这样的正确的<em>走</em>和<em>叫</em>方法的对象都可被函数接受的这种行为引出了以上表述，这种决定类型的方式因此得名。<br>&nbsp;</p>
</blockquote>
<p>&nbsp;</p>
<p>例子如下：</p>
<div><br><pre title="Duck Typing">class Duck:<br>    def quack(self):<br>        print(“Quaaaaaack!”)<br>    def feathers(self):<br>        print(“The duck has white and gray feathers.”)<br><br>class Person:<br>    def quack(self):<br>        print(“The person imitates a duck.”)<br>    def feathers(self):<br>        print(“The person takes a feather from the ground and shows it.”)<br>    def name(self):<br>        print(“John Smith”)<br><br>def in_the_forest(duck):<br>    try:<br>        duck.quack()<br>        duck.feathers()<br>    except (AttributeError, TypeError):<br>        print(“can’t quack()”)<br><br>def game():<br>    donald = Duck()<br>    john = Person()<br>    in_the_forest(donald)<br>    in_the_forest(john)<br><br>game()</pre><br>这段代码是维基百科中的 例子， 我稍微加了一点关于异常的代码。这段代码实现了in_the_forest方法的多态，相较于Java和C++，不需要通过父类的引用，即可直接实现多态。<br><br>造成这种多态实现方式的不同， 个人认为主要还是由语言特性决定的（静态语言与动态语言的区别）。虽然Python，C++，Java都是强类型语言，但Python因为动态语言的这个特性，不需要强制声明参数类型。这样的特性可以是我们编写的时候只专注于方法的使用，而不需要过去考虑对象的类型。<br><br>相较于继承所产生的树形层级结构，Duck_Typing可以使多态平行化。两个没有任何继承关系的类，只要拥有相同的方法，也可以作为参数传入。<br><br>&nbsp;<br><br>&nbsp;<br><br>顺带提到的还有重载问题，重载到底是什么，如果语言没有提供重载机制那么是否可以实现重载。<br><br>个人的想法是可以实现，拿C来说，个人认为通过使用可变参数就可以实现函数重载。<br><br>至于Python，同样可以通过<em>args 或者 *</em>kwarg来实现<br><br>&nbsp;<br><br>&nbsp;<br><br>这都是我的个人想法，欢迎交流与纠正<br><br></div>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/03/14/-e5-85-b3-e4-ba-8epython-e5-92-8cduck-typing-e7-9a-84-e5-a4-9a-e6-80-81-2/" data-id="cjvb3r8zt000ju8s67ctkubay" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/03/14/-e5-85-b3-e4-ba-8epython-e5-92-8cduck-typing-e7-9a-84-e5-a4-9a-e6-80-81-2/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Duck-Typing/">Duck_Typing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OO/">OO</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/多态/">多态</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/重载/">重载</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post--e5-86-b7" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/14/-e5-86-b7/" class="article-date">
  <time datetime="2013-03-14T01:21:02.000Z" itemprop="datePublished">2013-03-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/joke/">joke</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/14/-e5-86-b7/">冷</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>美国海军总部在1995年10月10日公布此通话记录</p>
<p>加拿大人员：<br>请你改变你的航向朝南15度以避免碰撞。</p>
<p>美国人员：<br>建议你改变你的航向朝北15度以避免碰撞。</p>
<p>加拿大人员：<br>不，你必须改变你的航向朝南15度以避免碰撞。</p>
<p>美国人员：<br>这是美国海军军舰舰长，我再说一次，改变你的航向。</p>
<p>加拿大人员：<br>不，我再说一次，你要改变你的航向。</p>
<p>美国人员：<br>这是美国海军林肯号航空母舰，美国大西洋舰队第二大舰船。我们与三艘驱逐舰。三艘巡洋舰及多艘支援舰只同行。我要求你改变你的航向朝北15度。<br>我再说一次。朝北15度。否则将采取反制措施以确保本舰的安全。</p>
<p>加拿大人员：<br>这里是灯塔，换你说。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/03/14/-e5-86-b7/" data-id="cjvb3r8zu000mu8s6ihgtdh7f" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/03/14/-e5-86-b7/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/冷/">冷</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post--e7-94-a8404-e6-9d-a5-e5-af-bb-e6-89-be-e8-b5-b0-e5-a4-b1-e5-84-bf-e7-ab-a5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/12/-e7-94-a8404-e6-9d-a5-e5-af-bb-e6-89-be-e8-b5-b0-e5-a4-b1-e5-84-bf-e7-ab-a5/" class="article-date">
  <time datetime="2013-03-12T04:59:34.000Z" itemprop="datePublished">2013-03-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/闲言/">闲言</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/12/-e7-94-a8404-e6-9d-a5-e5-af-bb-e6-89-be-e8-b5-b0-e5-a4-b1-e5-84-bf-e7-ab-a5/">用404来寻找走失儿童</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在wordpress的404里加了寻找走失儿童的公益广告</p>
<p>刚刚对nginx配置了一下</p>
<p>现在本站的404效果如下，你也可以点击<a href="http://www.darkof.com/404" title="404 Not Found">这里</a>查看</p>
<p>没有多么高尚，尽自己的微薄之力吧</p>
<p><a href="http://192.241.208.248/wp-content/uploads/2013/03/Screenshot-from-2013-03-12-125607.png" target="_blank" rel="noopener"><img src="http://192.241.208.248/wp-content/uploads/2013/03/Screenshot-from-2013-03-12-125607.png" alt="" title="Screenshot from 2013-03-12 12:56:07"></a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://www.darkof.com/2013/03/12/-e7-94-a8404-e6-9d-a5-e5-af-bb-e6-89-be-e8-b5-b0-e5-a4-b1-e5-84-bf-e7-ab-a5/" data-id="cjvb3r909001ou8s6izpsc2e3" class="article-share-link">分享到</a>
      

      
        <a href="https://www.darkof.com/2013/03/12/-e7-94-a8404-e6-9d-a5-e5-af-bb-e6-89-be-e8-b5-b0-e5-a4-b1-e5-84-bf-e7-ab-a5/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/404/">404</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/公益/">公益</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">下一页 &raquo;</a>
  </nav>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/数据库/">数据库</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/code-snippet/">code snippet</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/code-snippet/django/">django</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/postgres/">postgres</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/django/">django</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/joke/">joke</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/joke/闲言/">闲言</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/闲言/">闲言</a><span class="category-list-count">16</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/404/" style="font-size: 10px;">404</a> <a href="/tags/Decorator/" style="font-size: 10px;">Decorator</a> <a href="/tags/Duck-Typing/" style="font-size: 10px;">Duck_Typing</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/OO/" style="font-size: 10px;">OO</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/Regex/" style="font-size: 10px;">Regex</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/aws/" style="font-size: 10px;">aws</a> <a href="/tags/cPickle/" style="font-size: 10px;">cPickle</a> <a href="/tags/chm/" style="font-size: 10px;">chm</a> <a href="/tags/decorator/" style="font-size: 10px;">decorator</a> <a href="/tags/django/" style="font-size: 13.33px;">django</a> <a href="/tags/django-meta/" style="font-size: 10px;">django meta</a> <a href="/tags/float/" style="font-size: 10px;">float</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/jekyell/" style="font-size: 10px;">jekyell</a> <a href="/tags/linux/" style="font-size: 13.33px;">linux</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/mock/" style="font-size: 10px;">mock</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/postgres/" style="font-size: 10px;">postgres</a> <a href="/tags/pyenv/" style="font-size: 10px;">pyenv</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/qdu/" style="font-size: 10px;">qdu</a> <a href="/tags/requests/" style="font-size: 10px;">requests</a> <a href="/tags/s3/" style="font-size: 10px;">s3</a> <a href="/tags/sae/" style="font-size: 10px;">sae</a> <a href="/tags/snippets/" style="font-size: 10px;">snippets</a> <a href="/tags/unicode/" style="font-size: 10px;">unicode</a> <a href="/tags/unittest/" style="font-size: 13.33px;">unittest</a> <a href="/tags/v2ex/" style="font-size: 10px;">v2ex</a> <a href="/tags/virtualenv/" style="font-size: 10px;">virtualenv</a> <a href="/tags/代码风格再烂也烂不过这个政策/" style="font-size: 10px;">代码风格再烂也烂不过这个政策</a> <a href="/tags/公益/" style="font-size: 10px;">公益</a> <a href="/tags/冷/" style="font-size: 10px;">冷</a> <a href="/tags/呓语/" style="font-size: 10px;">呓语</a> <a href="/tags/多态/" style="font-size: 10px;">多态</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a> <a href="/tags/开源/" style="font-size: 10px;">开源</a> <a href="/tags/浮点数/" style="font-size: 10px;">浮点数</a> <a href="/tags/腾讯微博/" style="font-size: 10px;">腾讯微博</a> <a href="/tags/装饰器/" style="font-size: 10px;">装饰器</a> <a href="/tags/运营商缓存/" style="font-size: 10px;">运营商缓存</a> <a href="/tags/重载/" style="font-size: 10px;">重载</a> <a href="/tags/闲言/" style="font-size: 10px;">闲言</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">九月 2012</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/14/before-unicode/">before_unicode</a>
          </li>
        
          <li>
            <a href="/2017/02/18/decorator-pits/">Python Decorator 的一些小细节/坑</a>
          </li>
        
          <li>
            <a href="/2016/08/14/mysql-offset/">mysql offset 为什么这么慢。。。</a>
          </li>
        
          <li>
            <a href="/2016/08/04/python-global-var/">Python 中的「全局变量」的小细节</a>
          </li>
        
          <li>
            <a href="/2015/05/10/Avoiding-ISP-Caching/">运营商缓存导致的奇葩问题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://twitter.com/eggacheliu" target="_blank">SpecialX</a>
          </li>
        
          <li>
            <a href="http://www.tifan.net" target="_blank">tifan blog</a>
          </li>
        
          <li>
            <a href="http://blog.myanthem.cn" target="_blank">wwbensky</a>
          </li>
        
          <li>
            <a href="http://daily.page7.me" target="_blank">Jerry Leo</a>
          </li>
        
          <li>
            <a href="http://blog.csdn.net/huntinggo" target="_blank">huntinggo</a>
          </li>
        
          <li>
            <a href="http://www.the5fire.com" target="_blank">the5fire</a>
          </li>
        
          <li>
            <a href="http://www.ifanr.com" target="_blank">ifanr</a>
          </li>
        
          <li>
            <a href="http://www.iwangzheng.com" target="_blank">王筝博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Adam Wen<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<script>
  var disqus_shortname = 'darkof';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- 百度分享 start -->

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>

</div>
</body>
</html>
